@using System.Web
@using Ban3.Platforms.TeamFoundationCollector.Domain.Contract.Enums
@using Ban3.Platforms.TeamFoundationCollector.Domain.Contract.Extensions
@model Ban3.Platforms.TeamFoundationCollector.Domain.Contract.Response.Reports.TfvcFilterResult
@{
    Layout = null;
}
<div class="card-header">

    <div class="col-6"><h3 class="card-title">Results</h3></div>
    <div class="col-6">
        @if (Model.TotalPage > 1)
        {
            <ul class="pagination ">
                @Html.Raw(Model.Pagination)
            </ul>
        }
        </div>
</div>
<div class="table-responsive">
    <table class="table table-hover">
        <thead>
        <tr>
            <th class="col-2">Type</th>
            <th>
                Changesets (@Model.Rows.Count(o => o.ReportRef == ReportRef.Changeset) found.);
                Shelvesets (@Model.Rows.Count(o => o.ReportRef == ReportRef.Shelveset) found.)
            </th>
        </tr>
        </thead>
        <tbody>

        @foreach (var c in Model.PagedRows)
        {
            if (c.Threads != null && c.Threads.Any())
            {
                @await Html.PartialAsync("ShowRow", c)
            }
        }
        </tbody>
    </table>
    <div class="col-12">
        <div class="card-body">
        @if (Model.TotalPage > 1)
        {
            <ul class="pagination ">
                @Html.Raw(Model.Pagination)

            </ul>
        }
        </div>
    </div>
</div>
